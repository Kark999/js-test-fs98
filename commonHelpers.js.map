{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst fetchPostsBtn = document.querySelector('.btn');\nconst postList = document.querySelector('.posts');\n\n// Controls the group number\nlet page = 1;\n// Controls the number of items in the group\nlet perPage = 5;\n\nfetchPostsBtn.addEventListener('click', async () => {\n  try {\n    const posts = await fetchPosts();\n    renderPosts(posts);\n    // Increase the group number\n    page += 1;\n\n    // Replace button text after first request\n    if (page > 1) {\n      fetchPostsBtn.textContent = 'Fetch more posts';\n    }\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nasync function fetchPosts() {\n  const params = new URLSearchParams({\n    _limit: perPage,\n    _page: page,\n  });\n\n  const response = await axios.get(\n    `https://jsonplaceholder.typicode.com/posts?${params}`\n  );\n  return response.data;\n}\n\nfunction renderPosts(posts) {\n  const markup = posts\n    .map(({ id, title, body, userId }) => {\n      return `<li>\n          <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n          <p><b>Post id</b>: ${id}</p>\n          <p><b>Author id</b>: ${userId}</p>\n          <p class=\"post-body\">${body}</p>\n        </li>`;\n    })\n    .join('');\n  postList.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["fetchPostsBtn","postList","page","perPage","posts","fetchPosts","renderPosts","error","params","axios","markup","id","title","body","userId"],"mappings":"svBAEA,MAAMA,EAAgB,SAAS,cAAc,MAAM,EAC7CC,EAAW,SAAS,cAAc,QAAQ,EAGhD,IAAIC,EAAO,EAEPC,EAAU,EAEdH,EAAc,iBAAiB,QAAS,SAAY,CAClD,GAAI,CACF,MAAMI,EAAQ,MAAMC,IACpBC,EAAYF,CAAK,EAEjBF,GAAQ,EAGJA,EAAO,IACTF,EAAc,YAAc,mBAE/B,OAAQO,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAED,eAAeF,GAAa,CAC1B,MAAMG,EAAS,IAAI,gBAAgB,CACjC,OAAQL,EACR,MAAOD,CACX,CAAG,EAKD,OAHiB,MAAMO,EAAM,IAC3B,8CAA8CD,CAAM,EACxD,GACkB,IAClB,CAEA,SAASF,EAAYF,EAAO,CAC1B,MAAMM,EAASN,EACZ,IAAI,CAAC,CAAE,GAAAO,EAAI,MAAAC,EAAO,KAAAC,EAAM,OAAAC,CAAM,IACtB;AAAA,mCACsBF,EAAM,MAAM,EAAG,EAAE,CAAC;AAAA,+BACtBD,CAAE;AAAA,iCACAG,CAAM;AAAA,iCACND,CAAI;AAAA,cAEhC,EACA,KAAK,EAAE,EACVZ,EAAS,mBAAmB,YAAaS,CAAM,CACjD"}